= FontAwesome Font Loading Fix

This document describes the changes made to fix the FontAwesome font loading issue.

== Issue Description

Clicking on the Test Connection button resulted in a font-loading error:

[source,text]
----
downloadable font: download failed (font-family: "FontAwesome" style:normal weight:400 stretch:100 src index:1): status=2147746065 source: https://localhost:9095/nifi-cuioss-ui-1.0-SNAPSHOT/media/fontawesome-webfont-5GKVPAEF.woff2?v=4.7.0
GET
https://localhost:9095/nifi-cuioss-ui-1.0-SNAPSHOT/media/fontawesome-webfont-Z4ARLA73.woff?v=4.7.0
----

The issue was that the application was trying to load FontAwesome font files with hashed filenames that didn't exist. The browser was generating these hashed filenames as part of its cache-busting mechanism.

== Changes Made

. Added FontAwesome WebJar dependency to pom.xml:
+
[source,xml]
----
<dependency>
    <groupId>org.webjars</groupId>
    <artifactId>font-awesome</artifactId>
    <version>4.7.0</version>
</dependency>
----

. Updated maven-war-plugin configuration to include the FontAwesome WebJar in the WAR file:
+
[source,xml]
----
<overlay>
    <groupId>org.webjars</groupId>
    <artifactId>font-awesome</artifactId>
    <type>jar</type>
    <includes>
        <include>META-INF/resources/webjars/**</include>
    </includes>
    <targetPath>webjars</targetPath>
</overlay>
----

. Updated index.html to reference the FontAwesome CSS directly from the WebJar:
+
[source,html]
----
<!-- Load Font Awesome -->
<link rel="stylesheet" href="webjars/META-INF/resources/webjars/font-awesome/4.7.0/css/font-awesome.min.css">
----

. Added MIME type mappings for font files to web.xml to ensure proper content types:
+
[source,xml]
----
<mime-mapping>
    <extension>woff</extension>
    <mime-type>font/woff</mime-type>
</mime-mapping>
<mime-mapping>
    <extension>woff2</extension>
    <mime-type>font/woff2</mime-type>
</mime-mapping>
<mime-mapping>
    <extension>ttf</extension>
    <mime-type>font/ttf</mime-type>
</mime-mapping>
<mime-mapping>
    <extension>eot</extension>
    <mime-type>application/vnd.ms-fontobject</mime-type>
</mime-mapping>
<mime-mapping>
    <extension>svg</extension>
    <mime-type>image/svg+xml</mime-type>
</mime-mapping>
----

== Result

These changes ensure that:

1. The FontAwesome CSS is loaded directly from the WebJar
2. The font files are also loaded from the WebJar
3. The web server correctly identifies and serves the font files with the proper MIME types

This approach has several advantages:

1. It's simpler and more maintainable
2. It follows best practices by using the WebJar as intended
3. It reduces the risk of font loading issues by using the standard paths
4. It eliminates the need for custom CSS files and manual font file copying

After these changes, clicking on the Test Connection button should no longer result in a font-loading error, and the console should be free of 404 errors for font files.
